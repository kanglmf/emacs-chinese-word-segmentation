all: cnws
cnws: libjieba.a
	$(CC) -I./cjieba/ -o cnws-server-jieba cnws-jieba.c cnws-server-jieba.c -L./ -ljieba -lstdc++ -lm
libjieba.a:
	$(CXX) -std=c++11 -o jieba.o -c -DLOGGING_LEVEL=LL_WARNING -I./cjieba/deps/ cjieba/lib/jieba.cpp
	ar cqs libjieba.a jieba.o
clean:
	rm -f *.a *.o cnws-server
